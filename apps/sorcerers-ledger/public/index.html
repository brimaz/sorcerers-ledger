<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" sizes="any" />
    <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" sizes="32x32" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/site.webmanifest" />
    <title></title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Import map for npm packages -->
    <script type="importmap">
    {
      "imports": {
        "lucide-vue-next": "https://esm.sh/lucide-vue-next@0.562.0"
      }
    }
    </script>
    
    <!-- Dynamically load Vue based on environment -->
    <script>
      // Wait for DOM to be ready
      function initApp() {
        // Ensure body exists
        if (!document.body) {
          return;
        }
        
        // Detect if running locally (development) or in production
        const isDevelopment = window.location.hostname === 'localhost' || 
                             window.location.hostname === '127.0.0.1' ||
                             window.location.hostname === '';
        
        // Load Vue first
        const vueScript = document.createElement('script');
        vueScript.src = isDevelopment 
          ? 'https://unpkg.com/vue@3/dist/vue.global.js'
          : 'https://unpkg.com/vue@3/dist/vue.global.prod.js';
        
        // After Vue loads, load Vue Router
        vueScript.onload = function() {
          const routerScript = document.createElement('script');
          routerScript.src = 'https://unpkg.com/vue-router@4/dist/vue-router.global.js';
          
          // After Vue Router loads, load app.js
          routerScript.onload = function() {
            const appScript = document.createElement('script');
            appScript.src = 'app.js';
            appScript.type = 'module';
            document.body.appendChild(appScript);
          };
          
          document.head.appendChild(routerScript);
        };
        
        document.head.appendChild(vueScript);
      }
      
      // Initialize when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initApp);
      } else {
        // DOM is already ready
        initApp();
      }
    </script>
</head>
<body>
    <div id="app">
    </div>
    <!-- app.js is loaded dynamically after Vue and VueRouter -->
</body>
</html>
